var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,s)=>{for(var r in s||(s={}))t.call(s,r)&&l(e,r,s[r]);if(a)for(var r of a(s))n.call(s,r)&&l(e,r,s[r]);return e};import{f as r,D as o,C as c,B as i,F as d,T as m,I as u,a as p,b as E,M as y,m as f,A as g,P as k,c as b,R as h,d as x}from"./vendor.8a0df37e.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const r=new URL(e,n);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){s(new Error(`Failed to import: ${e}`)),l(c)},onload(){a(self[t].moduleMap[r]),l(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/React-TodoApp-Neumorphic/assets/");r.initializeApp({apiKey:"AIzaSyDYOVNXnJ3wPzpHeflpT9W1GUX_vQimkBU",authDomain:"todo-app-9aabf.firebaseapp.com",projectId:"todo-app-9aabf",storageBucket:"todo-app-9aabf.appspot.com",messagingSenderId:"1016735621794",appId:"1:1016735621794:web:9f30ef717b4ff07aab6dfb"});const v=r.firestore(),C=r.auth(),R=new r.auth.GoogleAuthProvider,N=()=>C.signInWithPopup(R);const S=()=>o.createElement(o.Fragment,null,o.createElement(c,{bordered:!0,className:"card-login"},o.createElement("div",{style:{display:"flex"}},o.createElement("p",{className:"txt-todo"},"To Do"),o.createElement("img",{style:{marginBottom:28,marginLeft:20},src:"src\\favicon.svg"})),o.createElement(i,{className:"btn-login",onClick:N},o.createElement(d,{className:"icon-google",size:"24"}),o.createElement("p",{className:"txt-btn"},"Sign In"))),o.createElement("p",{className:"txt-creds"},"Made with ðŸ’œ by ARSH!"));const w=o.createContext(),T=({children:e})=>{const[t,a]=o.useState(null),[n,l]=o.useState(!0);return o.useEffect((()=>{const e=C.onAuthStateChanged((e=>{a(e),l(!1)}));return()=>e()}),[]),o.createElement(w.Provider,{value:{user:t,loading:n}},e)},A=o.createContext(),O=(e,t)=>{switch(t.type){case"SET_TASKS":return s(s({},e),{tasks:t.payload,loading:!1});case"CLEAR_TASKS":return s(s({},e),{tasks:[],loading:!0});case"ERROR":return s(s({},e),{loading:!1,error:t.payload});default:return e}},j={tasks:[],loading:!0,error:null},I=({children:e})=>{const[t,a]=o.useReducer(O,j),{user:n}=o.useContext(w);o.useEffect((()=>{if(!n)return;const e=v.collection("users").doc(n.uid).collection("tasks").orderBy("created","desc").onSnapshot((e=>{const t=e.docs.map((e=>s({id:e.id},e.data())),(e=>{a({type:"ERROR",payload:e.message})}));a({type:"SET_TASKS",payload:t})}));return()=>e()}),[a,n]);const l={tasks:t.tasks,loading:t.loading,error:t.error,addTask:async e=>{try{const t=v.collection("users").doc(n.uid).collection("tasks");await t.add({created:r.firestore.Timestamp.now(),title:e,completed:!1})}catch(t){a({type:"ERROR",payload:t.message})}},toggleComplete:async({id:e,completed:t})=>{try{await v.collection("users").doc(n.uid).collection("tasks").doc(e).update({completed:!t})}catch(l){a({type:"ERROR",payload:l.message})}},deleteTask:async({id:e})=>{try{await v.collection("users").doc(n.uid).collection("tasks").doc(e).delete()}catch(t){a({type:"ERROR",payload:t.message})}},clearTasks:()=>{a({type:"CLEAR_TASKS"})}};return o.createElement(A.Provider,{value:l},e)},F=()=>{const[e,t]=o.useState(""),{addTask:a}=o.useContext(A),[n,l]=o.useState(!1),s=o.useRef();return o.useEffect((()=>{document.getElementById(`${s.current.input.props.id}`).setAttribute("spellCheck","false")}),[]),o.createElement("form",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onSubmit:n=>{n.preventDefault(),""===e?l(!0):(a(e),t(""),l(!1))}},o.createElement(c,{className:"new-task-container"},o.createElement(m,{ref:s,onBlur:()=>l(!1),autofocus:!0,bordered:!0,spellcheck:!1,uncontrolled:!0,value:e,onChange:e=>t(e.value),spellCheck:!1,inputStyles:{width:"100%",borderColor:n?"#FF5252":null},className:"input-task-title",label:"Title",hideExtra:!0}),o.createElement(i,{onClick:()=>{},className:"btn-add-task"},o.createElement("p",{className:"btn-text"},"Add"))))};const L=({task:e})=>{const{toggleComplete:t,deleteTask:a}=o.useContext(A);return o.createElement("div",{className:"task-content"},o.createElement(i,{bordered:!0,active:e.completed,className:"card-task",onClick:()=>{t(e)}},o.createElement("p",{style:e.completed?{textDecoration:"line-through"}:null,className:"text-task-title"},e.title)),o.createElement(u,{bordered:!0,className:"btn-delete",onClick:()=>a(e),text:!1},e.completed?o.createElement(p,{color:"#4CAF50"}):o.createElement(E,{size:24,color:"#FF5252"})))};const P={card:{display:"flex",alignItems:"center",justifyContent:"center",height:"38px",padding:"38px",color:"#2e2e2e"}},B=()=>o.createElement(c,{inset:!0,style:P.card},o.createElement(y,{size:24,color:"#4789fc"}),o.createElement("p",{className:"txt-no-tasks"},"You don't have any Tasks, Add some!")),U={type:"spring"},_={initial:{scale:0,opacity:0},animate:e=>({scale:1,opacity:1,transition:{delay:.1*e}}),exit:{scale:0,opacity:0,transition:{duration:.1}}},M=({style:e})=>{const{tasks:t,loading:a}=o.useContext(A);return o.createElement(f.div,{className:"list-tasks",style:s({},e),animate:{transition:{staggerChildren:.5}}},o.createElement(g,null,a&&o.createElement("center",null,o.createElement(k,{style:{marginTop:"18px"},indeterminate:!0})),t.length>0?t.map(((e,t)=>o.createElement(f.div,{transition:U,variants:_,initial:"initial",animate:"animate",exit:"exit",layout:!0,key:e.id,custom:t},o.createElement(L,{key:e.id,task:e})))):!a&&o.createElement(f.div,{transition:U,variants:_,initial:"initial",animate:"animate",layout:!0,exit:"exit"},o.createElement(B,null))))};const z=()=>{const{user:e}=o.useContext(w),{clearTasks:t}=o.useContext(A);return o.createElement(c,{bordered:!0,className:"card-user-info"},o.createElement("div",{className:"user-info-container"},o.createElement(b,{rounded:!0,src:e.photoURL}),o.createElement("p",{className:"txt-display-name"},e.displayName)),o.createElement(u,{text:!1,className:"btn-sign-out",onClick:()=>{C.signOut(),t()}},o.createElement(h,{size:"20"})))};function D(){const{user:e,loading:t}=o.useContext(w);return o.createElement("div",{className:"App"},t&&o.createElement(k,{indeterminate:!0}),!e&&!t&&o.createElement(S,null),e&&o.createElement(o.Fragment,null,o.createElement(z,null),o.createElement(F,null),o.createElement(M,null)))}x.render(o.createElement(o.StrictMode,null,o.createElement(T,null,o.createElement(I,null,o.createElement(D,null)))),document.getElementById("root"));
